#include <stdio.h>
#include <ctype.h>
#include <string.h>
void monoalphabeticEncrypt(char text[], char key[]) {
    for (int i = 0; text[i] != '\0'; ++i) {
        if (isupper(text[i]))
            text[i] = toupper(key[text[i] - 'A']);
        else if (islower(text[i]))
            text[i] = tolower(key[text[i] - 'a']);
    }
}
void monoalphabeticDecrypt(char text[], char key[]) {
    char reverseKey[26];
    for (int i = 0; i < 26; ++i)
        reverseKey[key[i] - 'A'] = 'A' + i;
    for (int i = 0; text[i] != '\0'; ++i) {
        if (isupper(text[i]))
            text[i] = reverseKey[text[i] - 'A'];
        else if (islower(text[i]))
            text[i] = tolower(reverseKey[toupper(text[i]) - 'A']);
    }
}
int main() {
    char text[100];
    char key[27];
    int choice;
    printf("Enter substitution key (26 unique uppercase letters): ");
    scanf("%s", key);
    printf("Enter message: ");
    getchar(); 
    fgets(text, sizeof(text), stdin);
    printf("1. Encrypt\n2. Decrypt\nEnter your choice: ");
    scanf("%d", &choice);
    if (choice == 1)
        monoalphabeticEncrypt(text, key);
    else if (choice == 2)
        monoalphabeticDecrypt(text, key);
    else {
        printf("Invalid choice.\n");
        return 0;
    }
    printf("Result: %s\n", text);
    return 0;
}
